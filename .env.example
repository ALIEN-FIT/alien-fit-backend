# ===========================================
# ENVIRONMENT CONFIGURATION TEMPLATE
# ===========================================
# Docker (dev + prod on same VPS)
# - Copy this file twice: .env.dev and .env.prod
# - Adjust ports/DB names so they don't clash
# - Set ENV_FILE inside each file to itself (so compose passes the right env into the app container)
# - Run with different compose project names (-p)
#
# PROD example:
#   docker compose --env-file .env.prod -p alien-fit-prod -f docker-compose.yml -f docker-compose.prod.yml up -d --build
#
# DEV example:
#   docker compose --env-file .env.dev -p alien-fit-dev -f docker-compose.yml -f docker-compose.dev.yml up -d --build
#
# Stop one stack:
#   docker compose --env-file .env.dev -p alien-fit-dev -f docker-compose.yml -f docker-compose.dev.yml down
#   docker compose --env-file .env.prod -p alien-fit-prod -f docker-compose.yml -f docker-compose.prod.yml down
#
# Copy this file to .env (or .env.dev/.env.prod) and fill in actual values
# DO NOT commit .env with real secrets to version control
# ===========================================

# App Configuration
NODE_ENV=development
PORT=3000

# Used by docker-compose.yml -> services.app.env_file
# In .env.dev set: ENV_FILE=.env.dev
# In .env.prod set: ENV_FILE=.env.prod
ENV_FILE=.env.dev

# Host port bindings (dev/prod must be different if both run on one VPS)
DEV_PORT=3001
PROD_PORT=3000

# Coturn ports (only used by docker-compose.prod.yml by default)
TURN_PORT=3478
TURN_TLS_PORT=5349

APP_NAME=alien_fit
APP_VERSION=0.0.1
APP_URL=https://yourdomain.com

# ===========================================
# DATABASE CONFIGURATION
# ===========================================
# PostgreSQL settings - used by both app and docker-compose
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your_secure_password_here
POSTGRES_DB=alien_fit_dev

# Note:
# - Inside Docker Compose the DB host is always "db".
# - If you run the app locally (no Docker), set DB_URI to use "localhost".
POSTGRES_HOST=db
POSTGRES_PORT=5432

# Full Database URI (constructed from above or set directly)
# For Docker: DB_URI is injected by docker-compose.yml to point to the internal "db" service.
# For local (no Docker), you can set:
# DB_URI=postgres://${POSTGRES_USER}:${POSTGRES_PASSWORD}@localhost:${POSTGRES_PORT}/${POSTGRES_DB}
DB_URI=postgres://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# ===========================================
# REDIS CONFIGURATION
# ===========================================
# For Docker: use 'redis' as host
# For local: use 'localhost' as host
# Inside Docker, docker-compose.yml injects REDIS_URL as redis://redis:6379/${REDIS_DB}
REDIS_DB=0
REDIS_URL=redis://redis:6379/0

# ===========================================
# AUTHENTICATION
# ===========================================
SUPER_ADMIN_PROVIDER=admin@example.com
SUPER_ADMIN_PASSWORD=your_super_admin_password

# JWT Secrets - Generate secure random strings for production
JWT_PRIVATE_KEY=your_access_token_secret
REFRESH_TOKEN_PRIVATE_KEY=your_refresh_token_secret

# Google OAuth 2.0
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret
GOOGLE_CALLBACK_URL=your_google_callback_url

# ===========================================
# EMAIL CONFIGURATION
# ===========================================
MAIL_HOST=your_mail_host
MAIL_PORT=587
MAIL_USER=your_mail_user
MAIL_PASS=your_mail_pass
MAIL_SECURE=true

# ===========================================
# STORAGE CONFIGURATION
# ===========================================
STORAGE_TYPE=local

# AWS S3 / Cloudflare R2
AWS_REGION=us-east-1
S3_BUCKET=your-bucket-name
S3_PUBLIC_URL=https://your-r2-url.r2.cloudflarestorage.com
CLOUDFLARE_ACCOUNT_ID=your_cloudflare_account_id
CLOUDFLARE_ACCESS_KEY_ID=your_cloudflare_access_key
CLOUDFLARE_SECRET_ACCESS_KEY=your_cloudflare_secret_key
CLOUDFLARE_BUCKET_NAME=your-bucket-name
CLOUDFLARE_PUBLIC_DOMAIN=https://your-r2-url.r2.cloudflarestorage.com

# ===========================================
# THIRD PARTY APIS
# ===========================================
calorieninjas_api_key=your_calorieninjas_api_key

# Fawaterak Payment Gateway
FAWATERAK_API_KEY=your_fawaterak_api_key
FAWATERAK_PROVIDER_KEY=your_fawaterak_provider_key
FAWATERAK_BASE_URL=https://staging.fawaterk.com

WHYSMS_API_KEY="your_whysms_api_key"
WHYSMS_SENDER_ID="your_whysms_sender_id"
NOTIFIRE_DEVICE_ID="your_notifire_device_id"